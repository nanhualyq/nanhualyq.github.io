---
title: (WIP) 学点 Jekyll 才能玩好 GitHub Pages 打造个人博客
---
<script type="module">
  import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
</script>
{% raw %}

## 简介
- 功能：将纯文本转换成网页
- 应用：博客、网站、文档等
- 用户语言：Markdown、Liquid、HTML、CSS
- 开发语言：Ruby
- 官网：https://jekyllrb.com

## 概览
<pre class="mermaid">
mindmap
	Root)Jekyll(
		结构/
			index.html <br> 首页
			_config.yml <br> 配置文件
			_posts/ <br> 文章
			_drafts/ <br> 草稿
			_includes/ <br> 代码片段
			_layouts/ <br> 布局文件
			_sass/ <br> 样式文件
		文件
			Page <br> 自定义页面
			Post <br> 文章
			Collection <br> 集合
			Data <br> 数据
			Asset <br> 辅助素材
			Static <br> 静态文件
			Include <br> 代码片段
			Layout <br> 布局框架
		内容
			Front Matter
			Liquid
			Variable
			Pagination
		改造
			Configuration
			Theme
			Plugin
</pre>

## 文件
支持格式
- .html
- .md

### Page
自由的页面，位置和文件名都可以随意

例子：`about.html`

### Post
专用于文章的页面

例子：
```
_posts/2011-12-31-new-years-eve-is-awesome.md
# 位于 _posts/ 之下
# 名称规则：年-月-日-标题
```

### Collection
集合就是一个目录，下面放一些同类型的数据。

例子：
```
# 一个公司有多个员工
_staff_members/zhangsan.md
_staff_members/lisi.md
_staff_members/wangwu.md
# _staff_members/ 目录需要先到配置文件指明
# 在需要的页面遍历 site.staff_members 显示即可
```

### Data
和集合不同，数据文件是独立的，每个文件里面存放多条数据。

支持格式：
- YAML
- JSON
- CSV
- TSV

例子：
```
# _data/members.csv
name,github
Eric Mill,konklone
Parker Moore,parkr
Liu Fengyun,liufengyun
# 在页面中通过 site.data.members 访问
```

### Asset
辅助页面的素材，样式等。

支持格式：
- .sass
- .scss
- .coffee

### Static
静态文件，如图片、PDF等，无须预处理，文件头不写 front matter。

例子：
```
static/img/123.jpg
static/pdf/some.pdf
```

### Include
代码片段，被其他页面包含。

例如：
```
# 将 _includes/footer.html 的内容替换到这一行
{% include footer.html %}

# 相对当前文件的位置，包含 somedir/footer.html
{% include_relative somedir/footer.html %}

# 传参 content 到 note.html 中使用
{% include note.html content="This is my sample note." %}
# note.html 获取参数 content
<p>{{ include.content }}</p>
```

### Layout
布局文件，一个空框架，包上其他页面的内容后，合并成最终页面。

例子：
```
# _layouts/default.html
<body>{{ content }}</body>

# 其他页面套上布局
---
layout: default
---
这是正文
```

## 内容
### Front Matter
一段YAML格式的代码块，放在文件头，里面定义的内容会被解析成变量，然后就可以在页面上读取。

例子：
```yaml
---
# 覆盖布局设置
layout: post
# 设置文章标题
title: Blogging Like a Hacker
---
```
### Variable
变量的来源大概是：
1. 系统自带的默认配置
2. _config.yml 中定义的配置
3. 文件头的 Front Matter 定义的

例子：
```
# 全局变量
site.time

# 本地变量
page.title

# 特殊变量（根据上下文自动注入的）
content
```
### Liquid
[这里](2024/01/21/liquid.html)有介绍，就是一种简单快捷模板语法，主要用来输出变量。

例子：
```
# 输出变量
{{ page.title }}

# 执行判断
{% if statement %} ... {% endif %}

# 用filter处理文本
{{ "/assets/style.css" | relative_url }}
```

### Pagination
分页功能就是在指定的列表页面中，可以通过 paginator 获取当前页的参数，然后显示列表和翻页控件。

例子：
```
{% for post in paginator.posts %}
  <h1><a href="{{ post.url }}">{{ post.title }}</a></h1>
  <p class="author">
    <span class="date">{{ post.date }}</span>
  </p>
  <div class="content">
    {{ post.content }}
  </div>
{% endfor %}
```

## 改造
## Configuration

{% endraw %}